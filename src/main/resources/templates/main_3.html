<!doctype html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>GG# ë©”ì¸</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --mint: #1ecab8;
    --mint-light: #e6faf8;
    --mint-dark: #17a899;
    --blue: #3182f6;
    --red: #f63131;
    --gray-50: #f8f9fa;
    --gray-100: #f1f3f5;
    --gray-200: #e9ecef;
    --gray-400: #ced4da;
    --gray-500: #adb5bd;
    --gray-600: #868e96;
    --gray-700: #495057;
    --gray-900: #212529;
    --shadow: 0 2px 12px rgba(0,0,0,0.08);
    --shadow-lg: 0 4px 24px rgba(0,0,0,0.12);
    --radius: 12px;
    --radius-lg: 16px;
  }
  html, body { height: 100%; background: var(--gray-50); font-family: 'Pretendard', sans-serif; color: var(--gray-900); }

  /* â”€â”€ ìƒë‹¨ ë°°ë„ˆ â”€â”€ */
  .headBanner-container {
    display: flex; align-items: center; justify-content: space-between;
    background: var(--mint); padding: 12px 16px; gap: 8px;
  }
  .headBanner-left { display: flex; align-items: center; gap: 10px; flex: 1; min-width: 0; }
  .headBanner-icon svg { width: 28px; height: 16px; }
  .headBanner-icon svg path { fill: #fff; }
  .headBanner-title { font-size: 12px; color: #fff; font-weight: 500; line-height: 1.5; }
  .headBanner-right { display: flex; align-items: center; gap: 8px; flex-shrink: 0; }
  .headBanner-link {
    font-size: 12px; font-weight: 600; color: var(--mint); background: #fff;
    border: none; border-radius: 20px; padding: 5px 12px; cursor: pointer; white-space: nowrap;
  }
  .headBanner-close button { background: none; border: none; cursor: pointer; display: flex; }

  /* â”€â”€ í—¤ë” â”€â”€ */
  .header-container {
    position: sticky; top: 0; z-index: 100;
    background: #fff; border-bottom: 1px solid var(--gray-100);
    padding: 0 16px;
  }
  .header-wrap { display: flex; align-items: center; justify-content: space-between; height: 56px; }
  .logo-container a {
    display: flex; align-items: center; gap: 6px; text-decoration: none;
    color: var(--gray-900); font-size: 14px; font-weight: 600;
  }
  .logo-container svg { color: var(--mint); }
  .notice-container { position: relative; cursor: pointer; }
  .notice-container svg path { fill: var(--gray-700); }
  .NotificationBadge {
    position: absolute; background: var(--red); color: #fff;
    font-size: 10px; font-weight: 700; border-radius: 20px;
    padding: 1px 5px; line-height: 16px; white-space: nowrap;
  }
  .NotificationBadge.type-number { top: -6px; right: -10px; }
  .NotificationBadge.type-new { top: -4px; right: -4px; width: 8px; height: 8px; padding: 0; }
  .NotificationBadge:not(.active) { display: none; }

  /* â”€â”€ ì½˜í…ì¸  â”€â”€ */
  .main-container { padding: 0 0 100px; }
  .main-wrap { display: flex; flex-direction: column; gap: 0; }

  /* â”€â”€ ì¹´ë“œ â”€â”€ */
  .card-container { padding: 0 16px; }
  .section-header { padding: 20px 16px 12px; }
  .sectionTitle-txt { font-size: 16px; font-weight: 700; color: var(--gray-900); }

  .card-wrap {
    background: #fff; border-radius: var(--radius-lg);
    box-shadow: var(--shadow); margin-bottom: 12px; overflow: hidden;
  }
  .card-content { display: flex; text-decoration: none; color: inherit; }
  .thumb-container { position: relative; width: 100px; height: 100px; flex-shrink: 0; }
  .thumb-img { width: 100%; height: 100%; object-fit: cover; }
  .thumb_overlay { position: absolute; inset: 0; }
  .thumb_topRight { position: absolute; top: 6px; right: 6px; }
  .wishbtn, .alarmbtn { background: rgba(0,0,0,0.3); border: none; border-radius: 50%; width: 28px; height: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
  .wishbtn svg path, .alarmbtn svg path { fill: #fff; }

  .content_container { padding: 12px; flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 4px; }
  .title { font-weight: 700; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .title-mint { color: var(--mint); }
  .title-lg { font-size: 14px; }
  .title-md { font-size: 13px; }
  .title-sm { font-size: 12px; }
  .title-container { font-size: 12px; color: var(--gray-600); overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }
  .maker-container { display: flex; align-items: center; gap: 6px; margin-top: auto; }
  .maker-name { font-size: 12px; color: var(--gray-500); }

  /* ë”ë³´ê¸° ë²„íŠ¼ */
  .button-submit {
    display: block; width: calc(100% - 32px); margin: 0 16px 20px;
    background: var(--mint); color: #fff; border: none; border-radius: var(--radius);
    padding: 14px; font-size: 14px; font-weight: 600; cursor: pointer;
  }
  .button-submit:active { background: var(--mint-dark); }

  /* â”€â”€ ì„¹ì…˜ ì»¨í…Œì´ë„ˆ â”€â”€ */
  .section-container { margin-bottom: 8px; }
  .section-wrap { padding: 0 16px; }
  .section-header.section-wrap { padding-top: 20px; padding-bottom: 12px; }

  /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ì¹´ë“œ */
  .flex-row-start-8 {
    display: flex; gap: 8px; overflow-x: auto; padding: 4px 16px 16px;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }
  .flex-row-start-8::-webkit-scrollbar { display: none; }
  .content-wrap { display: flex; gap: 8px; flex-shrink: 0; }
  .content-left { display: flex; flex-direction: column; gap: 8px; }

  .card-horizontal {
    display: flex; flex-direction: row; gap: 10px;
    padding: 10px; width: 260px;
  }
  .thumb-round .thumb-img { border-radius: 8px; }
  .thumb-round { width: 64px; height: 64px; flex-shrink: 0; }

  /* ë°°ì§€ */
  .StatusBadgeGroup_container { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 4px; }
  .LabelBadge_badge {
    font-size: 11px; font-weight: 500; border-radius: 4px; padding: 2px 6px;
  }
  .LabelBadge_blue { background: #e8f0fe; color: var(--blue); }
  .LabelBadge_gray { background: var(--gray-100); color: var(--gray-600); }

  /* â”€â”€ ìŠ¤ì™€ì´í¼ â”€â”€ */
  .swiper-container { overflow: hidden; }
  .swiper-wrap {
    display: flex; gap: 12px; overflow-x: auto; padding: 4px 16px 16px;
    -webkit-overflow-scrolling: touch;
  }
  .swiper-wrap::-webkit-scrollbar { display: none; }
  .swiper-item { flex-shrink: 0; width: 140px; }
  .swiper-item .thumb-container { width: 140px; height: 140px; border-radius: var(--radius); overflow: hidden; margin-bottom: 8px; }
  .swiper-item .content_container { padding: 0; }
  .swiper-item .title { white-space: normal; font-size: 13px; }
  .swiper-item .title-container { font-size: 12px; margin-top: 2px; }

  /* â”€â”€ ì°¨íŠ¸ ì˜ì—­ â”€â”€ */
  .chart-container { padding: 0; }
  .chart-wrap {
    background: #fff; border-radius: var(--radius-lg);
    box-shadow: var(--shadow); margin: 0 16px 16px; padding: 20px 16px 16px;
  }
  .chart-krw { font-size: 24px; font-weight: 700; color: var(--gray-900); }
  .chart-percent { font-size: 14px; font-weight: 600; color: var(--mint); }
  .chart-percent.down { color: var(--blue); }

  .period-selector { display: flex; gap: 6px; margin-top: 16px; justify-content: center; }
  .chart-btn {
    font-size: 12px; font-weight: 500; color: var(--gray-500);
    background: var(--gray-100); border: none; border-radius: 20px;
    padding: 6px 14px; cursor: pointer; transition: all 0.2s;
  }
  .chart-btn.active { background: var(--gray-900); color: #fff; }
  .chart-btn:empty { display: none; }

  /* SMP ìƒíƒœ í‘œì‹œ */
  .smp-status {
    display: flex; align-items: center; gap: 8px; margin-bottom: 16px;
    padding: 10px 12px; background: var(--mint-light); border-radius: 8px;
  }
  .smp-status-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--mint); animation: pulse 1.5s infinite; }
  @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.6;transform:scale(1.3)} }
  .smp-status-text { font-size: 12px; color: var(--mint-dark); font-weight: 500; }
  .smp-area-tabs { display: flex; gap: 6px; margin-bottom: 12px; }
  .smp-area-btn {
    font-size: 12px; font-weight: 600; padding: 5px 12px; border-radius: 20px;
    border: 1.5px solid var(--gray-200); background: #fff; color: var(--gray-600); cursor: pointer; transition: all 0.2s;
  }
  .smp-area-btn.active { border-color: var(--mint); background: var(--mint); color: #fff; }

  /* ë¡œë”© */
  .chart-loading {
    height: 200px; display: flex; align-items: center; justify-content: center;
    flex-direction: column; gap: 12px; color: var(--gray-500); font-size: 13px;
  }
  .spinner {
    width: 32px; height: 32px; border: 3px solid var(--gray-200);
    border-top-color: var(--mint); border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* SMP ì‹œê°„ëŒ€ í…Œì´ë¸” */
  .smp-table-wrap { overflow-x: auto; margin-top: 12px; }
  .smp-table {
    width: 100%; border-collapse: collapse; font-size: 12px;
  }
  .smp-table th {
    text-align: center; padding: 6px 8px; color: var(--gray-500);
    font-weight: 600; border-bottom: 1px solid var(--gray-100);
    white-space: nowrap;
  }
  .smp-table td {
    text-align: center; padding: 6px 8px;
    border-bottom: 1px solid var(--gray-100);
  }
  .smp-table tr:last-child td { border-bottom: none; }
  .smp-high { color: var(--red); font-weight: 700; }
  .smp-low { color: var(--blue); font-weight: 700; }

  /* â”€â”€ í•˜ë‹¨ ë„¤ë¹„ â”€â”€ */
  .navigationBar-container {
    position: fixed; bottom: 0; left: 0; right: 0; z-index: 200;
    background: #fff; border-top: 1px solid var(--gray-100);
    display: flex; align-items: stretch;
    box-shadow: 0 -2px 12px rgba(0,0,0,0.06);
  }
  .NavigationTab-container {
    flex: 1; display: flex; flex-direction: column; align-items: center;
    justify-content: center; padding: 8px 4px; text-decoration: none;
    color: var(--gray-500); font-size: 10px; font-weight: 500; position: relative;
    transition: color 0.2s;
  }
  .NavigationTab-container.active { color: var(--mint); }
  .NavigationTab-icon { font-size: 20px; margin-bottom: 3px; }
  .NavigationTab-icon svg { width: 22px; height: 22px; }
  .NavigationTab-container.active .NavigationTab-icon svg path { fill: var(--mint); }
  .NavigationTab-container:not(.active) .NavigationTab-icon svg path { fill: var(--gray-500); }
  .NavigationTab-name { font-size: 10px; }

  /* í€µ ë²„íŠ¼ */
  .quickButton-container { position: fixed; right: 16px; bottom: 80px; z-index: 150; display: flex; flex-direction: column; align-items: center; gap: 10px; }
  .quickButton-pageTop, .quickButton-V2G {
    width: 44px; height: 44px; border-radius: 50%; border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: var(--shadow-lg);
  }
  .quickButton-pageTop { background: #fff; }
  .quickButton-V2G { background: var(--mint); }
  .quickButton-V2G svg path { fill: #fff; }
  .quickButton-container .NotificationBadge { top: -4px; right: -4px; }

  /* â”€â”€ ëª¨ë‹¬ â”€â”€ */
  .modal { display: none; position: fixed; inset: 0; z-index: 500; }
  .modal.open { display: block; }
  .Modal_overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: flex-end; justify-content: center; }
  .modal:not(.bottomSheet) .Modal_overlay { align-items: center; }

  .ZZ1Modal-container {
    background: #fff; border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    width: 100%; max-width: 480px; max-height: 90vh; overflow-y: auto;
    padding: 0 0 24px;
    animation: slideUp 0.3s ease;
  }
  @keyframes slideUp { from{transform:translateY(100%)} to{transform:translateY(0)} }

  .ZZ1Modal-header { display: flex; align-items: center; gap: 12px; padding: 16px 16px 12px; border-bottom: 1px solid var(--gray-100); }
  .ZZ1Modal-title { font-size: 16px; font-weight: 700; flex: 1; }
  .ZZ1Modal-content { padding: 16px; }

  .confirmModal-container {
    background: #fff; border-radius: var(--radius-lg);
    width: calc(100% - 32px); max-width: 340px;
    animation: fadeIn 0.2s ease;
  }
  @keyframes fadeIn { from{opacity:0;transform:scale(.95)} to{opacity:1;transform:scale(1)} }
  .confirmModal-header { display: flex; align-items: center; gap: 12px; padding: 16px; border-bottom: 1px solid var(--gray-100); }
  .confirmModal-title { font-size: 15px; font-weight: 700; flex: 1; }
  .confirmModal-content { padding: 16px; display: flex; flex-direction: column; gap: 10px; }
  .notice-txt { font-size: 13px; color: var(--gray-600); line-height: 1.6; }
  .confirmModal-footer { padding: 0 16px 16px; }
  .buttonGroup { display: flex; gap: 8px; }
  .button-confirm {
    flex: 1; padding: 12px; border-radius: var(--radius); border: 1px solid var(--gray-200);
    background: #fff; font-size: 14px; font-weight: 600; cursor: pointer; color: var(--gray-700);
  }
  .button-confirm.button-mint { background: var(--mint); color: #fff; border-color: var(--mint); }
  .button-close { background: none; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; }

  /* ì…ë ¥ í¼ */
  .KRW-container, .MyKWH-container, .KWH-container { margin-bottom: 14px; }
  .KRW-container label span, .MyKWH-container label span, .KWH-container label span { font-size: 13px; font-weight: 600; color: var(--gray-700); display: block; margin-bottom: 6px; }
  .inputField { display: flex; align-items: center; gap: 8px; background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: var(--radius); padding: 0 12px; }
  .inputField span { font-size: 13px; color: var(--gray-500); font-weight: 500; flex-shrink: 0; }
  .input {
    flex: 1; padding: 12px 0; font-size: 15px; font-weight: 600;
    border: none; background: transparent; outline: none; text-align: right;
    color: var(--gray-900);
  }
  .input-message { font-size: 11px; margin-top: 4px; color: var(--mint); text-align: right; }
  .button-submit-modal {
    width: 100%; padding: 14px; background: var(--mint); color: #fff;
    border: none; border-radius: var(--radius); font-size: 15px; font-weight: 700; cursor: pointer; margin-top: 8px;
  }

  /* â”€â”€ í† ìŠ¤íŠ¸ â”€â”€ */
  .toast-container { position: fixed; bottom: 80px; left: 16px; right: 16px; z-index: 600; pointer-events: none; }
  .show-container {
    background: var(--gray-900); color: #fff; border-radius: var(--radius);
    padding: 12px 16px; margin-bottom: 8px; font-size: 13px;
    transform: translateY(20px); opacity: 0; transition: all 0.3s;
    pointer-events: none;
  }
  .show-container.visible { transform: translateY(0); opacity: 1; pointer-events: auto; }
  .Activity_container { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
  .Activity-link { color: var(--mint); font-weight: 600; font-size: 12px; text-decoration: none; flex-shrink: 0; }

  .mt5 { margin-top: 5px; } .mb15 { margin-bottom: 15px; } .mb30 { margin-bottom: 30px; }
  .mt6 { margin-top: 6px; } .mv5 { margin: 5px 0; } .mt0 { margin-top: 0; } .pt0 { padding-top: 0; }
</style>
</head>
<body>
<div id="app" class="main">

  <!-- ìƒë‹¨ ë°°ë„ˆ -->
  <div class="headBanner-container" id="headBanner">
    <div class="headBanner-left">
      <div class="headBanner-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 654 363">
          <g transform="translate(0,382) scale(0.1,-0.1)" fill="#000" stroke="none">
            <path d="M480 3809 c-167 -22 -317 -154 -370 -327 -25 -80 -27 -231 -5 -317 39 -149 150 -267 304 -321 56 -20 86 -24 193 -24 133 0 158 -4 158 -25 0 -14 -37 -97 -126 -280 -57 -118 -57 -121 -58 -210 -1 -75 3 -97 21 -130 44 -82 112 -132 189 -141 85 -9 94 -13 94 -35 0 -22 -48 -83 -456 -580 -291 -355 -305 -373 -339 -442 -39 -81 -59 -219 -45 -316 27 -180 108 -308 253 -395 114 -68 73 -66 1304 -66 1206 0 1160 -2 1275 56 77 39 162 129 203 216 117 247 29 550 -192 662 -100 50 -96 50 -673 55 -490 5 -545 8 -548 22 -2 9 67 102 154 210 255 313 1074 1337 1143 1427 76 100 124 200 145 304 20 96 20 147 1 240 -40 193 -165 342 -338 402 -62 21 -66 21 -1142 22 -594 1 -1109 -2 -1145 -7z"/>
            <path d="M3860 3810 c-120 -21 -220 -83 -291 -179 -60 -82 -89 -162 -96 -267 -17 -250 104 -445 328 -526 63 -23 70 -23 599 -28 485 -5 535 -7 538 -21 2 -9 -19 -43 -46 -75 -109 -130 -396 -472 -542 -645 -85 -101 -224 -267 -309 -369 -85 -102 -234 -279 -331 -395 -97 -115 -191 -231 -208 -256 -44 -61 -83 -176 -89 -263 -7 -96 19 -234 59 -309 41 -76 129 -169 201 -211 118 -70 63 -67 1337 -64 l1145 3 57 22 c160 61 273 191 303 348 27 142 13 270 -41 377 -49 97 -164 187 -281 221 -24 7 -247 13 -613 16 -520 5 -575 8 -578 22 -2 10 71 106 170 225 96 115 210 254 255 309 44 55 140 172 213 260 72 88 174 212 225 275 52 63 145 176 207 251 365 441 383 467 414 584 19 68 18 237 -1 310 -46 176 -176 309 -365 371 -52 18 -117 19 -1135 20 -594 1 -1100 -2 -1125 -6z"/>
          </g>
        </svg>
      </div>
      <div class="headBanner-content">
        <div class="headBanner-title">ê±°ë˜ê°€ ì™„ë£Œë˜ì—ˆì–´ìš”.<br>ê±°ë˜ ëª©ë¡ì€ ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆì–´ìš”!</div>
      </div>
    </div>
    <div class="headBanner-right">
      <button class="headBanner-link">ë°”ë¡œ ê°€ê¸°</button>
      <div class="headBanner-close">
        <button class="button button-close" onclick="document.getElementById('headBanner').style.display='none'">
          <svg viewBox="0 0 24 24" width="16" height="16"><path d="M11.9998 11.1515L4.424 3.57565L3.57547 4.42418L11.1513 12L3.57549 19.5759L4.42401 20.4244L11.9998 12.8486L19.5757 20.4244L20.4242 19.5759L12.8484 12L20.4242 4.4242L19.5757 3.57567L11.9998 11.1515Z" fill="#fff"></path></svg>
        </button>
      </div>
    </div>
  </div>

  <!-- í—¤ë” -->
  <div class="header-container">
    <div class="header-wrap">
      <div class="logo-container">
        <a href="javascript:void(0);">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2Z" fill="currentColor"/>
            <circle cx="12" cy="9" r="3" fill="white"/>
          </svg>
          ê°•ë‚¨êµ¬
        </a>
      </div>
      <div class="service-container">
        <a class="notice-container" href="javascript:void(0);">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M9.865 1.653c1.545-.338 2.725-.338 4.27 0 3.166.693 5.742 3.414 5.859 6.678.067 1.888.062 3.272.043 5.133-.014 1.348.694 2.716 1.42 4.113a.7.7 0 01-.621 1.022H3.164a.7.7 0 01-.621-1.022l.27-.522c.622-1.216 1.162-2.411 1.15-3.591-.02-1.861-.025-3.245.043-5.133.116-3.264 2.692-5.985 5.859-6.678zm4.014 1.173c-1.377-.301-2.382-.301-3.758 0-2.703.592-4.822 2.902-4.916 5.548-.067 1.86-.062 3.222-.042 5.077.014 1.406-.587 2.772-1.182 3.95h16.037c-.595-1.178-1.196-2.544-1.181-3.95.019-1.855.024-3.217-.042-5.077-.095-2.646-2.213-4.956-4.916-5.548z" fill="#495057"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.367 18.6a2.4 2.4 0 11-4.734 0h-1.21a3.6 3.6 0 107.156 0h-1.212z" fill="#495057"/>
          </svg>
          <span class="NotificationBadge type-number active">11</span>
        </a>
      </div>
    </div>
  </div>

  <!-- ì½˜í…ì¸  -->
  <div class="main-container">
    <div class="main-wrap">

      <!-- ì°œí•œ êµ¬ë§¤ í•­ëª© -->
      <div class="section-header mt5 mb15">
        <div class="sectionTitle-container">
          <h2 class="sectionTitle-txt">ì°œí•œ êµ¬ë§¤ í•­ëª©ì´ì—ìš”.</h2>
        </div>
      </div>

      <div class="card-container">
        <div class="card-wrap">
          <a class="card-content" href="#">
            <div class="thumb-container">
              <img class="thumb-img" src="https://placehold.co/100x100/e6faf8/1ecab8?text=GG" alt=""/>
              <div class="thumb_overlay">
                <div class="thumb_topRight">
                  <button class="wishbtn" type="button">
                    <svg viewBox="0 0 24 24" width="16" height="16"><path d="M7 2.9c-1.696 0-3.377.845-4.426 2.314-1.06 1.484-1.448 3.563-.643 5.976.65 1.95 2.455 4.078 4.353 5.905a45.28 45.28 0 005.376 4.4.6.6 0 00.68 0 45.286 45.286 0 005.376-4.4c1.898-1.827 3.703-3.955 4.353-5.905.805-2.413.417-4.492-.643-5.976C20.376 3.745 18.696 2.9 17 2.9c-2.582 0-4.164 1.348-5 2.469C11.165 4.248 9.583 2.9 7 2.9z" fill="#fff"/></svg>
                  </button>
                </div>
              </div>
            </div>
            <div class="content_container">
              <div class="title title-mint title-lg">ì œë„¤ì‹œìŠ¤ GV80 ì¿ í˜</div>
              <div class="title-container">[êµ¬ë§¤] 2024ë…„í˜• GV80 ì¿ í˜ 3.5T í’€ì˜µì…˜ íŒë§¤í•©ë‹ˆë‹¤. ì£¼í–‰ê±°ë¦¬ 5,000km ì´ë‚´ ìƒíƒœ ìµœìƒ</div>
              <div class="maker-container">
                <span class="maker-name">ê²Œì‹œì ì´ë¦„</span>
                <i class="fa-solid fa-battery-quarter" style="color:#ffc53d;font-size:13px;"></i>
              </div>
            </div>
          </a>
        </div>
      </div>

      <div class="card-container">
        <div class="card-wrap">
          <a class="card-content" href="#">
            <div class="thumb-container">
              <img class="thumb-img" src="https://placehold.co/100x100/e8f0fe/3182f6?text=EV" alt=""/>
              <div class="thumb_overlay">
                <div class="thumb_topRight">
                  <button class="wishbtn" type="button">
                    <svg viewBox="0 0 24 24" width="16" height="16"><path d="M7 2.9c-1.696 0-3.377.845-4.426 2.314-1.06 1.484-1.448 3.563-.643 5.976.65 1.95 2.455 4.078 4.353 5.905a45.28 45.28 0 005.376 4.4.6.6 0 00.68 0 45.286 45.286 0 005.376-4.4c1.898-1.827 3.703-3.955 4.353-5.905.805-2.413.417-4.492-.643-5.976C20.376 3.745 18.696 2.9 17 2.9c-2.582 0-4.164 1.348-5 2.469C11.165 4.248 9.583 2.9 7 2.9z" fill="#fff"/></svg>
                  </button>
                </div>
              </div>
            </div>
            <div class="content_container">
              <div class="title title-mint title-lg">ì•„ì´ì˜¤ë‹‰ 6 ë¡±ë ˆì¸ì§€</div>
              <div class="title-container">[íŒë§¤] ì•„ì´ì˜¤ë‹‰6 ë¡±ë ˆì¸ì§€ AWD íŒë§¤í•©ë‹ˆë‹¤. ë³´ì¡°ê¸ˆ ì „ì•¡ ìˆ˜ë ¹ ê°€ëŠ¥, ì‹¤ì£¼í–‰ ë³´ì¦ê±°ë¦¬ 450km</div>
              <div class="maker-container">
                <span class="maker-name">ê²Œì‹œì ì´ë¦„</span>
                <i class="fa-solid fa-battery-half" style="color:#e5e53d;font-size:13px;"></i>
              </div>
            </div>
          </a>
        </div>
      </div>

      <button class="button-submit mb30" type="button">ë” ë³´ê¸°</button>

      <!-- â˜… í•œì „ SMP ì‹¤ì‹œê°„ ì°¨íŠ¸ ì„¹ì…˜ â˜… -->
      <div class="main-content section-container">
        <div class="section-wrap section-header">
          <h2 class="sectionTitle-txt">âš¡ ê¸ˆì¼ í•œì „ SMP ì‹¤ì‹œê°„ ì‹œì„¸</h2>
        </div>
        <div class="chart-container">
          <div class="chart-wrap avgChart">

            <!-- ìƒíƒœ í‘œì‹œ -->
            <div class="smp-status">
              <div class="smp-status-dot"></div>
              <span class="smp-status-text" id="smpStatusText">ë°ì´í„° ë¡œë”© ì¤‘...</span>
            </div>

            <!-- ì§€ì—­ íƒ­ -->
            <div class="smp-area-tabs">
              <button class="smp-area-btn active" id="areaBtn-yookji" onclick="switchArea('ìœ¡ì§€')">ìœ¡ì§€</button>
              <button class="smp-area-btn" id="areaBtn-jeju" onclick="switchArea('ì œì£¼')">ì œì£¼</button>
            </div>

            <!-- ìˆ˜ìµ/í¼ì„¼íŠ¸ í‘œì‹œ -->
            <div style="margin-bottom:20px;">
              <h3 id="periodTitle" style="color:var(--gray-500);font-size:13px;font-weight:500;margin-bottom:4px;">ì˜¤ëŠ˜ì˜ SMP í‰ê·  ë‹¨ê°€</h3>
              <div style="display:flex;align-items:baseline;gap:8px;">
                <span id="profitAmount" class="chart-krw">--ì›</span>
                <span id="profitPercent" class="chart-percent"></span>
              </div>
              <div id="smpSubInfo" style="font-size:11px;color:var(--gray-500);margin-top:4px;"></div>
            </div>

            <!-- ì°¨íŠ¸ ìº”ë²„ìŠ¤ -->
            <div style="height:220px;position:relative;" id="chartWrapper">
              <div class="chart-loading" id="chartLoading">
                <div class="spinner"></div>
                <span>í•œì „ SMP ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
              </div>
              <canvas id="avgChart" style="display:none;"></canvas>
            </div>

            <!-- ê¸°ê°„ ì„ íƒ -->
            <div class="avg period-selector">
              <button onclick="updateAvgChart('hourly')" id="avgBtn-hourly" class="chart-btn avg active" type="button">ì‹œê°„ë³„</button>
              <button onclick="updateAvgChart('summary')" id="avgBtn-summary" class="chart-btn avg" type="button">ìš”ì•½</button>
            </div>

          </div>
        </div>

        <!-- SMP ìƒì„¸ í…Œì´ë¸” -->
        <div style="padding:0 16px;">
          <div class="chart-wrap" style="padding:16px;">
            <h3 style="font-size:13px;font-weight:700;color:var(--gray-700);margin-bottom:12px;">
              ğŸ“‹ ì‹œê°„ëŒ€ë³„ SMP ìƒì„¸ <span id="tableAreaLabel" style="color:var(--mint);font-size:12px;">(ìœ¡ì§€)</span>
            </h3>
            <div class="smp-table-wrap">
              <table class="smp-table" id="smpTable">
                <thead>
                  <tr>
                    <th>ì‹œê°„</th>
                    <th>SMP (ì›/kWh)</th>
                    <th>ê³µê¸‰ê°€ëŠ¥(MW)</th>
                    <th>ìˆ˜ìš”(MW)</th>
                  </tr>
                </thead>
                <tbody id="smpTableBody">
                  <tr><td colspan="4" style="color:var(--gray-500);padding:20px 0;">ë¡œë”© ì¤‘...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <button class="button-submit" type="button" onclick="modalOpen('modalBottomSheet')">ZZ1 ì—ë„ˆì§€ íŒë§¤í•˜ê¸°</button>
      </div>

      <!-- êµ¬ë§¤/íŒë§¤ ì‹¤ì‹œê°„ ë² ìŠ¤íŠ¸ -->
      <div class="main-content section-container">
        <div class="section-wrap section-header">
          <h2 class="sectionTitle-txt">êµ¬ë§¤/íŒë§¤ ì‹¤ì‹œê°„ ë² ìŠ¤íŠ¸</h2>
        </div>
        <div class="section-wrap section-content">
          <div class="flex-row-start-8">
            <div class="content-wrap">
              <div class="content-left">
                <div class="card-wrap" style="margin:0;">
                  <a class="card-content card-horizontal" href="#">
                    <div class="thumb-container thumb-round mh0 mv0" style="width:64px;height:64px;"><img class="thumb-img" src="https://placehold.co/64x64/e6faf8/1ecab8?text=1" alt=""/></div>
                    <div class="content_container" style="padding:8px;">
                      <div class="title title-mint title-sm">EV ì¶©ì „ê¶Œ</div>
                      <div class="title-container">[êµ¬ë§¤] ê¸‰ì† ì¶©ì „ 50kWh ì´ìš©ê¶Œ</div>
                      <div class="StatusBadgeGroup_container"><span class="LabelBadge_badge LabelBadge_sm LabelBadge_blue">#ì¶©ì „</span><span class="LabelBadge_badge LabelBadge_sm LabelBadge_gray">#ê¸‰ì†</span></div>
                    </div>
                  </a>
                </div>
                <div class="card-wrap" style="margin:0;">
                  <a class="card-content card-horizontal" href="#">
                    <div class="thumb-container thumb-round" style="width:64px;height:64px;"><img class="thumb-img" src="https://placehold.co/64x64/fff3e0/ff9800?text=2" alt=""/></div>
                    <div class="content_container" style="padding:8px;">
                      <div class="title title-mint title-sm">íƒœì–‘ê´‘ íŒ¨ë„</div>
                      <div class="title-container">[êµ¬ë§¤] ê°€ì •ìš© 3kW ì„¤ì¹˜ í¬í•¨</div>
                      <div class="StatusBadgeGroup_container"><span class="LabelBadge_badge LabelBadge_sm LabelBadge_blue">#íƒœì–‘ê´‘</span><span class="LabelBadge_badge LabelBadge_sm LabelBadge_gray">#ì¹œí™˜ê²½</span></div>
                    </div>
                  </a>
                </div>
              </div>
              <div class="content-left">
                <div class="card-wrap" style="margin:0;">
                  <a class="card-content card-horizontal" href="#">
                    <div class="thumb-container thumb-round" style="width:64px;height:64px;"><img class="thumb-img" src="https://placehold.co/64x64/fce4ec/e91e63?text=3" alt=""/></div>
                    <div class="content_container" style="padding:8px;">
                      <div class="title title-mint title-sm">ESS ë°°í„°ë¦¬</div>
                      <div class="title-container">[íŒë§¤] ê°€ì •ìš© 10kWh ESS ì‹ í’ˆ</div>
                      <div class="StatusBadgeGroup_container"><span class="LabelBadge_badge LabelBadge_sm LabelBadge_blue">#ESS</span><span class="LabelBadge_badge LabelBadge_sm LabelBadge_gray">#ë°°í„°ë¦¬</span></div>
                    </div>
                  </a>
                </div>
                <div class="card-wrap" style="margin:0;">
                  <a class="card-content card-horizontal" href="#">
                    <div class="thumb-container thumb-round" style="width:64px;height:64px;"><img class="thumb-img" src="https://placehold.co/64x64/e8f5e9/4caf50?text=4" alt=""/></div>
                    <div class="content_container" style="padding:8px;">
                      <div class="title title-mint title-sm">ì „ê¸°ì°¨ ë°°í„°ë¦¬</div>
                      <div class="title-container">[íŒë§¤] 64kWh êµì²´ ë°°í„°ë¦¬ Aê¸‰</div>
                      <div class="StatusBadgeGroup_container"><span class="LabelBadge_badge LabelBadge_sm LabelBadge_blue">#ë°°í„°ë¦¬</span><span class="LabelBadge_badge LabelBadge_sm LabelBadge_gray">#ì¬ìƒ</span></div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <button class="button-submit" type="button">ë” ë³´ê¸°</button>
      </div>

      <!-- ì¶”ì²œ ì‚¬ëŒë“¤ -->
      <div class="main-content section-container">
        <div class="section-wrap section-header">
          <h2 class="sectionTitle-txt">ì´ëŸ° ì‚¬ëŒë“¤ì„ ì¶”ì²œí•´ë“œë ¤ìš”.</h2>
        </div>
        <div class="section-wrap section-content">
          <div class="swiper-wrap">
            <div class="swiper-item">
              <div class="thumb-container"><img class="thumb-img" src="https://placehold.co/140x140/e6faf8/1ecab8?text=A" alt=""/>
                <div class="thumb_overlay"><div class="thumb_topRight"><button class="alarmbtn" type="button"><i class="fa-regular fa-bell" style="color:#fff;font-size:13px;"></i></button></div></div>
              </div>
              <div class="content_container"><div class="title title-mint title-md">ì—ë„ˆì§€ íŒë§¤ì</div><div class="title-container">íƒœì–‘ê´‘ ì‰ì—¬ì „ë ¥ íŒë§¤ ì „ë¬¸</div></div>
            </div>
            <div class="swiper-item">
              <div class="thumb-container"><img class="thumb-img" src="https://placehold.co/140x140/e8f0fe/3182f6?text=B" alt=""/>
                <div class="thumb_overlay"><div class="thumb_topRight"><button class="wishbtn" type="button"><i class="fa-solid fa-heart" style="color:#fff;font-size:13px;"></i></button></div></div>
              </div>
              <div class="content_container"><div class="title title-mint title-md">EV ì¶©ì „ì†Œ</div><div class="title-container">ê°•ë‚¨ ê¸‰ì† ì¶©ì „ ìŠ¤í…Œì´ì…˜</div></div>
            </div>
            <div class="swiper-item">
              <div class="thumb-container"><img class="thumb-img" src="https://placehold.co/140x140/fff3e0/ff9800?text=C" alt=""/></div>
              <div class="content_container"><div class="title title-mint title-md">ESS ìš´ì˜ì</div><div class="title-container">ì‹¬ì•¼ì „ë ¥ ì €ì¥ í›„ ì¬íŒë§¤</div></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- í•˜ë‹¨ ë„¤ë¹„ -->
  <div id="GNB" class="navigationBar-container">
    <a class="NavigationTab-container active" href="#">
      <div class="NavigationTab-icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="currentColor"/></svg>
      </div>
      <div class="NavigationTab-name">í™ˆ</div>
      <span class="NotificationBadge type-new">N</span>
    </a>
    <a class="NavigationTab-container" href="#">
      <div class="NavigationTab-icon"><i class="fa-solid fa-comments-dollar"></i></div>
      <div class="NavigationTab-name">ê°œì¸ ê±°ë˜</div>
      <span class="NotificationBadge type-new active">N</span>
    </a>
    <a class="NavigationTab-container" href="#">
      <div class="NavigationTab-icon"><i class="fa-regular fa-user"></i></div>
      <div class="NavigationTab-name">ë§ˆì´GG#</div>
      <span class="NotificationBadge type-new active">N</span>
    </a>
  </div>

  <!-- í€µë²„íŠ¼ -->
  <aside id="Quick" class="quickButton-container">
    <button class="quickButton-pageTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">
      <i class="fa-solid fa-chevron-up" style="color:var(--gray-700);"></i>
    </button>
    <button class="quickButton-V2G" onclick="modalOpen('modalBottomSheet')">
      <i class="fa-solid fa-bolt" style="color:#fff;font-size:18px;"></i>
    </button>
    <span class="NotificationBadge type-new active"></span>
  </aside>

  <!-- ëª¨ë‹¬: ZZ1 í¼ -->
  <div id="modalBottomSheet" class="modal bottomSheet">
    <div class="Modal_overlay" onclick="if(event.target===this)modalCloses()">
      <div id="ZZ1Modal" class="ZZ1Modal-container">
        <div class="ZZ1Modal-header">
          <button class="button-close" onclick="modalCloses()">
            <svg viewBox="0 0 24 24" width="20" height="20"><path d="M11.9998 11.1515L4.424 3.57565L3.57547 4.42418L11.1513 12L3.57549 19.5759L4.42401 20.4244L11.9998 12.8486L19.5757 20.4244L20.4242 19.5759L12.8484 12L20.4242 4.4242L19.5757 3.57567L11.9998 11.1515Z" fill="#495057"/></svg>
          </button>
          <strong class="ZZ1Modal-title">âš¡ í•œì „ì— ì „ê¸°ë¥¼ íŒ” ìˆ˜ ìˆì–´ìš”!</strong>
        </div>
        <div class="ZZ1Modal-content mt0 pt0">
          <!-- ëª¨ë‹¬ ë‚´ ë¯¸ë‹ˆ ì°¨íŠ¸ -->
          <div class="chart-wrap avgChart" style="margin:0 0 16px;padding:16px;">
            <div style="margin-bottom:12px;">
              <h3 style="color:var(--gray-500);font-size:13px;margin:0;font-weight:500;">í˜„ì¬ SMP ë‹¨ê°€ (ìœ¡ì§€)</h3>
              <div style="display:flex;align-items:baseline;gap:8px;margin-top:4px;">
                <span id="modalSmpAmount" class="chart-krw" style="font-size:20px;">-- ì›/kWh</span>
                <span id="modalSmpTime" style="font-size:11px;color:var(--gray-500);"></span>
              </div>
            </div>
            <div style="height:160px;position:relative;">
              <canvas id="modalAvgChart"></canvas>
            </div>
          </div>

          <div class="KRW-container">
            <label><span>ì˜ˆìƒ ì •ì‚° ê¸ˆì•¡ (KRW)</span></label>
            <div class="inputField mt6">
              <input type="text" id="KRW" class="input" value="0" readonly/>
              <span>KRW</span>
            </div>
          </div>
          <div class="MyKWH-container">
            <label><span>ë‚´ ë³´ìœ  ì „ê¸°ëŸ‰ (KWH)</span></label>
            <div class="inputField mt6">
              <input type="text" id="KWH" class="input" value="999,999" readonly/>
              <span>KWH</span>
            </div>
          </div>
          <div class="KWH-container">
            <label><span>íŒë§¤í•  ì „ê¸°ëŸ‰ (KWH)</span></label>
            <div class="inputField mt6">
              <input type="text" id="KWH_input" class="input" placeholder="ì™€íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
                oninput="calcPrice(this.value)"/>
              <span>KWH</span>
            </div>
            <p class="input-message">íŒë§¤ ê°€ëŠ¥í•œ ì „ê¸°ëŸ‰: 999,999 KWH</p>
          </div>
          <button class="button-submit-modal" onclick="modalOpen('modalConfirm')">íŒë§¤ ì‹ ì²­í•˜ê¸°</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ëª¨ë‹¬: í™•ì¸ -->
  <div id="modalConfirm" class="modal">
    <div class="Modal_overlay">
      <div class="confirmModal-container">
        <div class="confirmModal-header">
          <button class="button-close" onclick="onlyClose('modalConfirm')">
            <svg viewBox="0 0 24 24" width="20" height="20"><path d="M11.9998 11.1515L4.424 3.57565L3.57547 4.42418L11.1513 12L3.57549 19.5759L4.42401 20.4244L11.9998 12.8486L19.5757 20.4244L20.4242 19.5759L12.8484 12L20.4242 4.4242L19.5757 3.57567L11.9998 11.1515Z" fill="#495057"/></svg>
          </button>
          <div class="confirmModal-title">ZZ1 íŒë§¤ í™•ì¸</div>
        </div>
        <div class="confirmModal-content">
          <div><span class="notice-txt">ì•ˆì „í•œ ì—ë„ˆì§€ ê±°ë˜ë¥¼ ìœ„í•´ íŒë§¤ ë‚´ì—­ì„ í™•ì¸í•´ ì£¼ì„¸ìš”. êµ­ê°€ ì „ë ¥ë§ìœ¼ë¡œ ì „ì†¡ëœ ì—ë„ˆì§€ëŠ” ì·¨ì†Œê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</span></div>
          <div style="background:var(--gray-50);border-radius:8px;padding:12px;">
            <div style="font-size:13px;font-weight:700;line-height:1.8;" id="confirmDetail">
              íŒë§¤ëŸ‰: --<br>ì •ì‚° ì˜ˆì • ê¸ˆì•¡: --<br>(í•œì „ SMP ë‹¨ê°€ ê¸°ì¤€)
            </div>
          </div>
          <div><span class="notice-txt">íŒë§¤ëœ ì „ë ¥ì€ ë‹¤ìŒ ë‹¬ ì „ê¸°ëŸ‰ì—ì„œ ì°¨ê°ë˜ê±°ë‚˜ í˜„ê¸ˆìœ¼ë¡œ ì •ì‚°ë©ë‹ˆë‹¤.</span></div>
        </div>
        <div class="confirmModal-footer">
          <div class="buttonGroup">
            <button class="button-confirm" onclick="onlyClose('modalConfirm')">ëŒì•„ê°€ê¸°</button>
            <button class="button-confirm button-mint" onclick="zzoneInsert()">ì—ë„ˆì§€ ê¸°ì—¬í•˜ê¸°</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì•ŒëŒ í™•ì¸ ëª¨ë‹¬ -->
  <div id="modalAlarmConfirm" class="modal">
    <div class="Modal_overlay">
      <div class="confirmModal-container">
        <div class="confirmModal-header">
          <button class="button-close" onclick="modalCloses()">
            <svg viewBox="0 0 24 24" width="20" height="20"><path d="M11.9998 11.1515L4.424 3.57565L3.57547 4.42418L11.1513 12L3.57549 19.5759L4.42401 20.4244L11.9998 12.8486L19.5757 20.4244L20.4242 19.5759L12.8484 12L20.4242 4.4242L19.5757 3.57567L11.9998 11.1515Z" fill="#495057"/></svg>
          </button>
          <div class="confirmModal-title">ì •ë§ ì·¨ì†Œí•˜ì‹œê² ì–´ìš”?</div>
        </div>
        <div class="confirmModal-content"><div class="confirmModal-message">í•´ë‹¹ ê±°ë˜ ì•Œë¦¼ê³¼ í˜œíƒì„ ë°›ì„ ìˆ˜ ì—†ì–´ìš”.</div></div>
        <div class="confirmModal-footer">
          <div class="buttonGroup">
            <button class="button-confirm button-mint" onclick="modalCloses()">ì·¨ì†Œí•˜ê¸°</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- í† ìŠ¤íŠ¸ -->
  <div id="toast" class="toast-container">
    <div id="wishAdd" class="show-container"><div class="Activity_container"><p>ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í–ˆì–´ìš”!</p><a class="Activity-link" href="#">ë°”ë¡œ ê°€ê¸°</a></div></div>
    <div id="wishRemove" class="show-container">ìœ„ì‹œë¦¬ìŠ¤íŠ¸ë¥¼ ì œì™¸í–ˆì–´ìš”.</div>
    <div id="alarmAdd" class="show-container"><div class="Activity_container"><p>ì•Œë¦¼ ì‹ ì²­ì„ ì™„ë£Œí–ˆì–´ìš”.</p><a class="Activity-link" href="#">ë°”ë¡œ ê°€ê¸°</a></div></div>
    <div id="alarmRemove" class="show-container">ì•ŒëŒ ì‹ ì²­ì„ ì·¨ì†Œí–ˆì–´ìš”.</div>
    <div id="ZZ1Cancel" class="show-container">ZZ1 ê±°ë˜ë¥¼ ì·¨ì†Œí•˜ì˜€ì–´ìš”.</div>
    <div id="ZZ1Complete" class="show-container"><div class="Activity_container"><p>ZZ1 ê±°ë˜ê°€ ì™„ë£Œë˜ì—ˆì–´ìš”!</p><a class="Activity-link" href="#">ë§ˆì´í˜ì´ì§€</a></div></div>
  </div>

</div>

<!-- Chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// í•œì „ SMP ë°ì´í„° (ì‹¤ì œ API ì—°ë™ ëŒ€ì‹  ì œê³µëœ JSON ì§ì ‘ ì‚¬ìš©)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SMP_RAW_DATA = {"response":{"header":{"resultCode":"00","resultMsg":"OK"},"body":{"dataType":"JSON","totalCount":"48","numOfRows":"24","pageNo":"1","items":{"item":[{"date":"20260223","jlfd":809.000,"slfd":56399.000,"hour":1,"areaName":"ìœ¡ì§€","smp":113.29,"rn":1,"mlfd":55590.000},{"date":"20260223","jlfd":809.000,"slfd":56399.000,"hour":1,"areaName":"ì œì£¼","smp":113.29,"rn":2,"mlfd":55590.000},{"date":"20260223","jlfd":773.000,"slfd":54104.000,"hour":2,"areaName":"ìœ¡ì§€","smp":86.93,"rn":3,"mlfd":53331.000},{"date":"20260223","jlfd":773.000,"slfd":54104.000,"hour":2,"areaName":"ì œì£¼","smp":86.93,"rn":4,"mlfd":53331.000},{"date":"20260223","jlfd":745.000,"slfd":52660.000,"hour":3,"areaName":"ìœ¡ì§€","smp":78.58,"rn":5,"mlfd":51915.000},{"date":"20260223","jlfd":745.000,"slfd":52660.000,"hour":3,"areaName":"ì œì£¼","smp":78.58,"rn":6,"mlfd":51915.000},{"date":"20260223","jlfd":732.000,"slfd":52436.000,"hour":4,"areaName":"ìœ¡ì§€","smp":78.58,"rn":7,"mlfd":51704.000},{"date":"20260223","jlfd":732.000,"slfd":52436.000,"hour":4,"areaName":"ì œì£¼","smp":78.58,"rn":8,"mlfd":51704.000},{"date":"20260223","jlfd":741.000,"slfd":52823.000,"hour":5,"areaName":"ìœ¡ì§€","smp":78.58,"rn":9,"mlfd":52082.000},{"date":"20260223","jlfd":741.000,"slfd":52823.000,"hour":5,"areaName":"ì œì£¼","smp":78.58,"rn":10,"mlfd":52082.000},{"date":"20260223","jlfd":751.000,"slfd":55439.000,"hour":6,"areaName":"ìœ¡ì§€","smp":81.16,"rn":11,"mlfd":54688.000},{"date":"20260223","jlfd":751.000,"slfd":55439.000,"hour":6,"areaName":"ì œì£¼","smp":81.16,"rn":12,"mlfd":54688.000},{"date":"20260223","jlfd":793.000,"slfd":60168.000,"hour":7,"areaName":"ìœ¡ì§€","smp":112.01,"rn":13,"mlfd":59375.000},{"date":"20260223","jlfd":793.000,"slfd":60168.000,"hour":7,"areaName":"ì œì£¼","smp":112.01,"rn":14,"mlfd":59375.000},{"date":"20260223","jlfd":839.000,"slfd":66970.000,"hour":8,"areaName":"ìœ¡ì§€","smp":113.00,"rn":15,"mlfd":66131.000},{"date":"20260223","jlfd":839.000,"slfd":66970.000,"hour":8,"areaName":"ì œì£¼","smp":113.00,"rn":16,"mlfd":66131.000},{"date":"20260223","jlfd":860.000,"slfd":72375.000,"hour":9,"areaName":"ìœ¡ì§€","smp":131.56,"rn":17,"mlfd":71515.000},{"date":"20260223","jlfd":860.000,"slfd":72375.000,"hour":9,"areaName":"ì œì£¼","smp":131.56,"rn":18,"mlfd":71515.000},{"date":"20260223","jlfd":812.000,"slfd":71985.000,"hour":10,"areaName":"ìœ¡ì§€","smp":122.90,"rn":19,"mlfd":71173.000},{"date":"20260223","jlfd":812.000,"slfd":71985.000,"hour":10,"areaName":"ì œì£¼","smp":122.90,"rn":20,"mlfd":71173.000},{"date":"20260223","jlfd":731.000,"slfd":68617.000,"hour":11,"areaName":"ìœ¡ì§€","smp":116.80,"rn":21,"mlfd":67886.000},{"date":"20260223","jlfd":731.000,"slfd":68617.000,"hour":11,"areaName":"ì œì£¼","smp":116.80,"rn":22,"mlfd":67886.000},{"date":"20260223","jlfd":684.000,"slfd":64698.000,"hour":12,"areaName":"ìœ¡ì§€","smp":106.80,"rn":23,"mlfd":64014.000},{"date":"20260223","jlfd":684.000,"slfd":64698.000,"hour":12,"areaName":"ì œì£¼","smp":106.80,"rn":24,"mlfd":64014.000}]}}}};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì „ì—­ ìƒíƒœ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let mainChart = null;
let modalChart = null;
let currentArea = 'ìœ¡ì§€';
let currentMode = 'hourly';
let parsedData = { ìœ¡ì§€: [], ì œì£¼: [] };

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë°ì´í„° íŒŒì‹±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function parseData() {
  const items = SMP_RAW_DATA.response.body.items.item;
  parsedData['ìœ¡ì§€'] = items.filter(i => i.areaName === 'ìœ¡ì§€').sort((a,b) => a.hour - b.hour);
  parsedData['ì œì£¼'] = items.filter(i => i.areaName === 'ì œì£¼').sort((a,b) => a.hour - b.hour);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì°¨íŠ¸ ì´ˆê¸°í™”
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function initMainChart() {
  document.getElementById('chartLoading').style.display = 'none';
  const canvas = document.getElementById('avgChart');
  canvas.style.display = 'block';
  const ctx = canvas.getContext('2d');

  const data = parsedData[currentArea];
  const labels = data.map(d => `${d.hour}ì‹œ`);
  const smpValues = data.map(d => d.smp);
  const avgVal = smpValues.reduce((a,b) => a+b, 0) / smpValues.length;

  mainChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels,
      datasets: [
        {
          label: 'SMP (ì›/kWh)',
          data: smpValues,
          borderWidth: 2.5,
          pointRadius: 3,
          pointHoverRadius: 6,
          pointBackgroundColor: '#fff',
          pointBorderWidth: 2,
          tension: 0.4,
          borderColor: '#1ecab8',
          backgroundColor: 'rgba(30,202,184,0.08)',
          fill: true,
          segment: {
            borderColor: ctx => ctx.p1.parsed.y > ctx.p0.parsed.y ? '#f63131' : '#1ecab8'
          }
        },
        {
          label: 'í‰ê· ',
          data: new Array(smpValues.length).fill(avgVal),
          borderWidth: 1.5,
          borderColor: '#adb5bd',
          borderDash: [5, 4],
          pointRadius: 0,
          fill: false,
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        legend: { display: false },
        tooltip: {
          backgroundColor: '#1c1c1e',
          padding: 10,
          cornerRadius: 8,
          callbacks: {
            label: c => {
              if (c.datasetIndex === 1) return ` í‰ê· : ${c.parsed.y.toFixed(2)}ì›/kWh`;
              return ` SMP: ${c.parsed.y.toFixed(2)}ì›/kWh`;
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#868e96', font: { size: 11 } }
        },
        y: {
          display: true,
          grid: { color: 'rgba(0,0,0,0.04)' },
          ticks: {
            color: '#868e96',
            font: { size: 10 },
            callback: v => `${v}ì›`
          }
        }
      }
    }
  });

  updateSummaryDisplay(data, avgVal);
}

// ìš”ì•½ ì°¨íŠ¸ (ìˆ˜ìš”/ê³µê¸‰)
function updateSummaryMode() {
  const data = parsedData[currentArea];
  const labels = data.map(d => `${d.hour}ì‹œ`);

  mainChart.data.labels = labels;
  mainChart.data.datasets = [
    {
      label: 'ê³µê¸‰ê°€ëŠ¥ (MW)',
      data: data.map(d => d.slfd),
      borderColor: '#1ecab8',
      backgroundColor: 'rgba(30,202,184,0.08)',
      borderWidth: 2,
      pointRadius: 2,
      tension: 0.4,
      fill: true,
    },
    {
      label: 'ìˆ˜ìš” (MW)',
      data: data.map(d => d.jlfd),
      borderColor: '#f63131',
      borderWidth: 2,
      pointRadius: 2,
      tension: 0.4,
      fill: false,
    }
  ];
  mainChart.options.plugins.tooltip.callbacks = {
    label: c => {
      const unit = c.datasetIndex === 0 ? 'ê³µê¸‰' : 'ìˆ˜ìš”';
      return ` ${unit}: ${c.parsed.y.toLocaleString()} MW`;
    }
  };
  mainChart.options.scales.y.ticks.callback = v => `${v.toLocaleString()}MW`;
  mainChart.update();

  document.getElementById('periodTitle').innerText = 'ê³µê¸‰ vs ìˆ˜ìš” (MW)';
  const smpVals = data.map(d => d.smp);
  const avg = smpVals.reduce((a,b)=>a+b,0)/smpVals.length;
  document.getElementById('profitAmount').innerText = `í‰ê·  ${avg.toFixed(2)}ì›/kWh`;
}

function updateHourlyMode() {
  const data = parsedData[currentArea];
  const labels = data.map(d => `${d.hour}ì‹œ`);
  const smpValues = data.map(d => d.smp);
  const avgVal = smpValues.reduce((a,b) => a+b, 0) / smpValues.length;

  mainChart.data.labels = labels;
  mainChart.data.datasets = [
    {
      label: 'SMP (ì›/kWh)',
      data: smpValues,
      borderWidth: 2.5,
      pointRadius: 3,
      pointHoverRadius: 6,
      pointBackgroundColor: '#fff',
      pointBorderWidth: 2,
      tension: 0.4,
      borderColor: '#1ecab8',
      backgroundColor: 'rgba(30,202,184,0.08)',
      fill: true,
      segment: {
        borderColor: ctx => ctx.p1.parsed.y > ctx.p0.parsed.y ? '#f63131' : '#1ecab8'
      }
    },
    {
      label: 'í‰ê· ',
      data: new Array(smpValues.length).fill(avgVal),
      borderWidth: 1.5,
      borderColor: '#adb5bd',
      borderDash: [5,4],
      pointRadius: 0,
      fill: false,
    }
  ];
  mainChart.options.plugins.tooltip.callbacks = {
    label: c => {
      if (c.datasetIndex === 1) return ` í‰ê· : ${c.parsed.y.toFixed(2)}ì›/kWh`;
      return ` SMP: ${c.parsed.y.toFixed(2)}ì›/kWh`;
    }
  };
  mainChart.options.scales.y.ticks.callback = v => `${v}ì›`;
  mainChart.update();

  updateSummaryDisplay(data, avgVal);
}

function updateSummaryDisplay(data, avgVal) {
  const smpVals = data.map(d => d.smp);
  const maxSmp = Math.max(...smpVals);
  const minSmp = Math.min(...smpVals);
  const maxHour = data.find(d => d.smp === maxSmp)?.hour;
  const minHour = data.find(d => d.smp === minSmp)?.hour;

  document.getElementById('periodTitle').innerText = `2026.02.23 ì‹œê°„ë³„ SMP (${currentArea})`;
  document.getElementById('profitAmount').innerText = `í‰ê·  ${avgVal.toFixed(2)}ì›/kWh`;
  document.getElementById('smpSubInfo').innerHTML =
    `<span style="color:#f63131;">â–² ìµœê³  ${maxSmp}ì› (${maxHour}ì‹œ)</span>&nbsp;&nbsp;` +
    `<span style="color:#3182f6;">â–¼ ìµœì € ${minSmp}ì› (${minHour}ì‹œ)</span>`;

  document.getElementById('smpStatusText').innerText = `2026.02.23 ê¸°ì¤€ Â· ì´ ${data.length}ê°œ ì‹œê°„ëŒ€ ë°ì´í„°`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì´ë²¤íŠ¸: ì§€ì—­ ì „í™˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.switchArea = function(area) {
  currentArea = area;
  document.querySelectorAll('.smp-area-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(area === 'ìœ¡ì§€' ? 'areaBtn-yookji' : 'areaBtn-jeju').classList.add('active');
  document.getElementById('tableAreaLabel').innerText = `(${area})`;

  if (currentMode === 'hourly') updateHourlyMode();
  else updateSummaryMode();

  updateTable();
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì´ë²¤íŠ¸: ëª¨ë“œ ì „í™˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.updateAvgChart = function(mode) {
  currentMode = mode;
  document.querySelectorAll('.avg.period-selector .chart-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(`avgBtn-${mode}`).classList.add('active');

  if (mode === 'hourly') updateHourlyMode();
  else updateSummaryMode();
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// í…Œì´ë¸” ë Œë”ë§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateTable() {
  const data = parsedData[currentArea];
  const smpVals = data.map(d => d.smp);
  const maxSmp = Math.max(...smpVals);
  const minSmp = Math.min(...smpVals);

  const tbody = document.getElementById('smpTableBody');
  tbody.innerHTML = data.map(row => {
    const isMax = row.smp === maxSmp;
    const isMin = row.smp === minSmp;
    const cls = isMax ? 'smp-high' : isMin ? 'smp-low' : '';
    return `
      <tr>
        <td><strong>${row.hour}ì‹œ</strong></td>
        <td class="${cls}">${row.smp.toFixed(2)} <span style="font-size:10px;font-weight:400;color:var(--gray-500);">ì›</span>${isMax ? ' ğŸ”´' : isMin ? ' ğŸ”µ' : ''}</td>
        <td>${row.slfd.toLocaleString()}</td>
        <td>${row.jlfd.toLocaleString()}</td>
      </tr>`;
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ëª¨ë‹¬ ë¯¸ë‹ˆ ì°¨íŠ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function initModalChart() {
  const data = parsedData['ìœ¡ì§€'];
  const latestData = data[data.length - 1];
  if (latestData) {
    document.getElementById('modalSmpAmount').innerText = `${latestData.smp.toFixed(2)} ì›/kWh`;
    document.getElementById('modalSmpTime').innerText = `(${latestData.hour}ì‹œ ê¸°ì¤€)`;
  }

  const canvas = document.getElementById('modalAvgChart');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const smpVals = data.map(d => d.smp);
  const avgVal = smpVals.reduce((a,b)=>a+b,0)/smpVals.length;

  modalChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: data.map(d => `${d.hour}ì‹œ`),
      datasets: [
        {
          data: smpVals,
          borderColor: '#1ecab8',
          borderWidth: 2,
          pointRadius: 0,
          tension: 0.4,
          backgroundColor: 'rgba(30,202,184,0.1)',
          fill: true,
        },
        {
          data: new Array(smpVals.length).fill(avgVal),
          borderColor: '#adb5bd',
          borderDash: [4,3],
          borderWidth: 1,
          pointRadius: 0,
          fill: false,
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false }, tooltip: { enabled: false } },
      scales: {
        x: { display: false },
        y: { display: false }
      }
    }
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// íŒë§¤ ê¸ˆì•¡ ê³„ì‚°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.calcPrice = function(val) {
  const kwh = parseFloat(val.replace(/,/g,'')) || 0;
  const data = parsedData['ìœ¡ì§€'];
  const latestSmp = data.length > 0 ? data[data.length-1].smp : 0;
  const price = Math.floor(kwh * latestSmp);
  document.getElementById('KRW').value = price.toLocaleString();

  const kwhStr = kwh.toLocaleString();
  document.getElementById('confirmDetail').innerHTML =
    `íŒë§¤ëŸ‰: <strong>${kwhStr} KWH</strong><br>` +
    `ì •ì‚° ì˜ˆì • ê¸ˆì•¡: <strong>${price.toLocaleString()}ì›</strong><br>` +
    `(í•œì „ SMP ë‹¨ê°€ ${latestSmp}ì›/kWh ê¸°ì¤€)`;
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ëª¨ë‹¬ ì˜¤í”ˆ/í´ë¡œì¦ˆ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function modalOpen(id) {
  document.getElementById(id).classList.add('open');
  if (id === 'modalBottomSheet' && !modalChart) {
    setTimeout(initModalChart, 100);
  }
}
function modalCloses() {
  document.querySelectorAll('.modal.open').forEach(m => m.classList.remove('open'));
}
function onlyClose(id) {
  document.getElementById(id).classList.remove('open');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// í† ìŠ¤íŠ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showToast(id) {
  const el = document.getElementById(id);
  if (!el) return;
  el.classList.add('visible');
  setTimeout(() => el.classList.remove('visible'), 3000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ZZ1 ê±°ë˜ (fetch â†’ ì‹¤ì œ ì—°ë™ìš©, í˜„ì¬ëŠ” ì‹œë®¬ë ˆì´ì…˜)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.zzoneInsert = function() {
  const salesKwh = document.getElementById('KWH_input').value.replace(/,/g,'');
  const salesPrice = document.getElementById('KRW').value.replace(/,/g,'');
  if (!salesKwh || parseInt(salesKwh) <= 0) {
    alert('íŒë§¤í•  ì „ê¸°ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
    return;
  }

  // ì‹¤ì œ API ì—°ë™ ì‹œ ì•„ë˜ fetch í™œì„±í™”
  // fetch('/vtog/transaction/zzone/insert', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ salesKwh: parseInt(salesKwh), salesPrice: parseInt(salesPrice) }) })
  //   .then(r => r.json()).then(data => { if (data.result === 'success') { modalCloses(); showToast('ZZ1Complete'); } else { alert('ì˜¤ë¥˜: ' + data.message); } });

  // ì‹œë®¬ë ˆì´ì…˜ ì²˜ë¦¬
  modalCloses();
  showToast('ZZ1Complete');
  document.getElementById('headBanner').style.display = 'flex';
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì´ˆê¸°í™”
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.addEventListener('DOMContentLoaded', () => {
  parseData();
  initMainChart();
  updateTable();
});
</script>
</body>
</html>
